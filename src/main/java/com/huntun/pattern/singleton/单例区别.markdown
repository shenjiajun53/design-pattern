# 各种单例区别

## 饿汉
### 优点
简单

### 缺点
没有调用就生成实例，浪费性能

## 懒汉（双重锁）
上锁，影响性能

## 懒汉（静态内部类）
原理：内部类一定是要在方法调用之前初始化，巧妙地避免了线程安全问题。

## 注册式（枚举单例）
枚举式单例也是《Effective
Java》书中推荐的一种单例实现写法。在 JDK 枚举的语法特殊性，以及反射也为枚举保
驾护航，让枚举式单例成为一种比较优雅的实现。

## 注册式（容器单例）
容器式写法适用于创建实例非常多的情况，便于管理。但是，是非线程安全的。到此，
注册式单例介绍完毕。

## ThreadLocal
ThreadLocal 不能保证其创建的对象是全局唯一，但是能保证在单个线程中是唯一的


#破坏单例方法
1.通过反射获取 构造方法，Constructor setAccessible(true)，强行获取构造权限

应对方式：构造方法里抛异常

2.序列化，反序列化

应对方式：增加 readResolve()方法